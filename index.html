<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Analytics Dashboard | Ryan Sansbury</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../../styles.css">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
</head>
<body class="dashboard-body">
    <header class="dashboard-header">
        <div class="container">
            <div class="header-content">
                <a href="../../index.html#portfolio" class="back-link"><i class="fas fa-arrow-left"></i> Back to Portfolio</a>
                <h1>Business Analytics Dashboard</h1>
                <div class="dashboard-controls">
                    <div class="date-filter">
                        <select id="dateRangeSelector">
                            <option value="7d">Last 7 Days</option>
                            <option value="30d">Last 30 Days</option>
                            <option value="90d" selected>Last Quarter</option>
                            <option value="1y">Last Year</option>
                            <option value="all">All Time</option>
                        </select>
                    </div>
                    <div class="refresh-button">
                        <button id="refreshBtn"><i class="fas fa-sync-alt"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="dashboard-content">
        <div class="container">
            <!-- KPI Summary Cards -->
            <div class="kpi-container">
                <div class="kpi-card" id="totalRevenue">
                    <div class="kpi-icon"><i class="fas fa-dollar-sign"></i></div>
                    <div class="kpi-data">
                        <h3>Total Revenue</h3>
                        <div class="kpi-value">$1,458,390</div>
                        <div class="kpi-change positive">+12.8% <span>vs prev. period</span></div>
                    </div>
                </div>
                <div class="kpi-card" id="avgOrderValue">
                    <div class="kpi-icon"><i class="fas fa-shopping-cart"></i></div>
                    <div class="kpi-data">
                        <h3>Avg. Order Value</h3>
                        <div class="kpi-value">$97.35</div>
                        <div class="kpi-change positive">+3.2% <span>vs prev. period</span></div>
                    </div>
                </div>
                <div class="kpi-card" id="conversionRate">
                    <div class="kpi-icon"><i class="fas fa-funnel-dollar"></i></div>
                    <div class="kpi-data">
                        <h3>Conversion Rate</h3>
                        <div class="kpi-value">4.28%</div>
                        <div class="kpi-change negative">-1.5% <span>vs prev. period</span></div>
                    </div>
                </div>
                <div class="kpi-card" id="activeCustomers">
                    <div class="kpi-icon"><i class="fas fa-users"></i></div>
                    <div class="kpi-data">
                        <h3>Active Customers</h3>
                        <div class="kpi-value">15,294</div>
                        <div class="kpi-change positive">+8.7% <span>vs prev. period</span></div>
                    </div>
                </div>
            </div>

            <!-- Chart Grid -->
            <div class="chart-grid">
                <!-- Revenue Trend Chart -->
                <div class="chart-container large">
                    <div class="chart-header">
                        <h3>Revenue Trend</h3>
                        <div class="chart-actions">
                            <button class="chart-action-btn active" data-view="revenue">Revenue</button>
                            <button class="chart-action-btn" data-view="orders">Orders</button>
                            <button class="chart-action-btn" data-view="yoy">Year over Year</button>
                        </div>
                    </div>
                    <div class="chart-body">
                        <canvas id="revenueTrendChart"></canvas>
                    </div>
                </div>

                <!-- Sales by Category -->
                <div class="chart-container">
                    <div class="chart-header">
                        <h3>Sales by Category</h3>
                        <div class="chart-actions">
                            <button class="chart-action-btn" id="viewAsDonut">Donut</button>
                            <button class="chart-action-btn active" id="viewAsBar">Bar</button>
                        </div>
                    </div>
                    <div class="chart-body">
                        <canvas id="categoryChart"></canvas>
                    </div>
                </div>

                <!-- Top Performing Products -->
                <div class="chart-container">
                    <div class="chart-header">
                        <h3>Top Performing Products</h3>
                        <div class="chart-actions">
                            <button class="chart-action-btn active" data-metric="revenue">By Revenue</button>
                            <button class="chart-action-btn" data-metric="units">By Units</button>
                        </div>
                    </div>
                    <div class="chart-body table-container">
                        <table class="data-table" id="topProductsTable">
                            <thead>
                                <tr>
                                    <th>Product</th>
                                    <th>Revenue</th>
                                    <th>Growth</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Table rows will be inserted by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="script.js"></script>
</body>
</html>